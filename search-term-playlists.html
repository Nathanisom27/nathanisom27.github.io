<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-01-04 Mon 15:04 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>search term playlists</title>
<meta name="generator" content="Org mode" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="/assets/js/linktext.js" defer></script>
<script data-goatcounter="https://neeasade.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
<script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
<link rel='stylesheet' href='/assets/css/org.css?sum=e359ca908a861b1cdcc3e0394ed5bce6'>
<link rel='stylesheet' href='./assets/css/org.css?sum=e359ca908a861b1cdcc3e0394ed5bce6'>
<link rel='stylesheet' href='/assets/css/colors.css?sum=97206a021034a32931377f372160a4ae'>
<link rel='stylesheet' href='./assets/css/colors.css?sum=97206a021034a32931377f372160a4ae'>
<link rel='stylesheet' href='/assets/css/notes.css?sum=31a320c058456258f196266b94ee5dea'>
<link rel='stylesheet' href='./assets/css/notes.css?sum=31a320c058456258f196266b94ee5dea'>
<link rel='stylesheet' href='/assets/css/new.css?sum=6005176a5b1e4f006c15ae303d1f2c3b'>
<link rel='stylesheet' href='./assets/css/new.css?sum=6005176a5b1e4f006c15ae303d1f2c3b'>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<p>
<h1 class=title><a href="/index.html">search term playlists</a> </h1>
</p>

<div class="org-center">
<p>
2020-12-13
</p>
</div>

<hr />
<p>
This is a brief overview of how I manage a local music collection in <code>$current_year</code>. I use Music Player Daemon (MPD) and youtube-dl to index and add music to big "local music" folder. Over the years structure is totally scattered, but at least for the import folder (youtube-dl) things always look like this: <code>${musicdir}/import/&lt;channel&gt;/&lt;title&gt;</code>. MPD has many clients, but now I use a script that operates atop the mpc client.
</p>

<p>
For quite sometime, my music playing looked like this:
</p>

<div class="org-src-container">
<pre class="src src-sh">mpc clear
mpc listall | sort -R | head -n 1000 | mpc add
</pre>
</div>

<p>
As you might imagine, this can lead to some jarring transitions and inconsistency with the 𝓜𝓞𝓞𝓓.
</p>

<p>
MPD has a notion of saving and loading playlists, but you have to add files individually to them/it's a very tedious experience if you want to incorporate many kinds of vibes.
</p>

<p>
Enter my version of playlist files.
</p>

<p>
Playlist files are files where every line is a comment, except for lines starting with <code>+</code> or <code>-</code>. At the moment, here is my jazz_piano playlist:
</p>

<div class="org-src-container">
<pre class="src src-conf"><span style="color: #646768;"># </span><span style="color: #646768;">artists</span>
+ryo fukui
+hiromi
+gabor szabo
+kitajima
+hitotaka izumi
+Minoru Muraoka
+alice coltrane

<span style="color: #646768;"># </span><span style="color: #646768;">albums</span>
+flight to brazil

<span style="color: #646768;"># </span><span style="color: #646768;">generic</span>
+piano
+jazz
+koto

<span style="color: #646768;"># </span><span style="color: #646768;">channel</span>
+mogurin3131
+mogurin313131
+marcel the drunkard

<span style="color: #646768;"># </span><span style="color: #646768;">edd ed eddy is actually pretty jazzy</span>
+ed, edd

<span style="color: #646768;"># </span><span style="color: #646768;">random</span>
+touhou

-05 My Sick Piano.m4a
-Mario Basanov &amp; Vidis  - I<span style="color: #007641;">'ll Be Gone (ft. Jazzu) _ Chill_Deep-6zaOfkd84Z0.m4a</span>
<span style="color: #007641;">-Dubmood - Bored at the piano-vQUlWsU_yZ4.m4a</span>
</pre>
</div>

<p>
Lines that start with a <code>+</code> are search terms against the current music collection (with a lenient grep against <code>mpc listall</code>) and lines that start with <code>-</code> are to remove search matches from the current <code>mpc playlist</code>. Removal is necessary because some search terms are so generic (here, piano). I then give <code>music</code> a function to process all the search matches. The advantage to this approach is whenever I add new stuff from an above artist or YouTube channel, it will automatically get added to the playlist!
</p>

<p>
The script may be found <a href="https://github.com/neeasade/dotfiles/blob/master/bin/bin/music">here</a>. Here are it's current options:
</p>
<pre class="example" id="org3fcf108">
$ music
music options:
add        : add a url to library, fallback on clipboard content
append     : append some search term to the current playlist
artist     : play songs by an artist
bl         : blacklist the currently playing song from the current playlist.
del        : delete the currently playing song
info       : display the current song progress bar and playlist length
now        : fuzzy search for a song, play it now
nowmpv     : fuzzy search for a song, play it now with MPV
playlist   : select a search term based playlist to play
recent     : play recently added songs
remove     : remove some search match from the playlist
rename     : rename the currently playing song file name (keep directory)
shuffle    : reshuffle current selection from all
</pre>

<p>
And an example of a fetch-like status (bar created with <a href="https://github.com/neeasade/dotfiles/blob/master/wm/.wm/panel/tools/mkb">mkb</a>):
</p>
<pre class="example" id="orgb81a78f">
$ music info
Hiromi Uehara 2006 Love and Laughter
◈◈◈◈◈◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇
playlist: jazz_piano | 60h 35m 13s
</pre>

<hr />

<div class="org-center">
<p>
<a href="./index.html">Index</a> <a href="https://neeasade.net">Root</a> <a href="https://raw.githubusercontent.com/neeasade/neeasade.github.io/source/posts/2020-12-13-search-term-playlists.org">Source</a> <a href="https://notes.neeasade.net/sitemap.html">Sitemap</a>
</p>
</div>

<div class="org-center">
<a href='https://webring.xxiivv.com/#random' target='_blank'><img style='width:40px;height:40px' src='https://webring.xxiivv.com/icon.black.svg'/></a>
<a href='https://github.com/nixers-projects/sites/wiki/List-of-nixers.net-user-sites' target='_blank'><img style='width:35px;height:40px' src='https://i.imgur.com/cttKKiq.png'/></a>
<a href='https://webring.recurse.com'><img alt='Recurse Center Logo' src='https://resevoir.net/webring/icon.png' style='height:40px;width:40px;'></a>
</div>
</div>
</body>
</html>
