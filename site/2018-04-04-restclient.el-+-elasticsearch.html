<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://notes.neeasade.netrss.xml"
      title="RSS feed for https://notes.neeasade.net"/>
<title>restclient.el + elasticsearch todo: and a screenshot of it in</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" type="text/css">
    </head>
<body>
<div id="preamble" class="status">
</div>
<div id="content">
<div class="post-date">04 Apr 2018</div><h1 class="post-title"><a href="2018-04-04-restclient.el-+-elasticsearch.html">restclient.el + elasticsearch todo: and a screenshot of it in</a></h1>
<nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#local">local</a></li>
<li><a href="#multiline-variable">multiline variable</a></li>
<li><a href="#note-there-must-be-a-comment-to-separate-request-definitions.">note: there must be a comment to separate request definitions.</a></li>
<li><a href="#list-indices">list indices</a></li>
<li><a href="#logs-sorted-by-a-field">logs sorted by a field</a></li>
</ul>
</div>
</nav>
<p>
action
</p>

<p>
<code>restclient.el</code> is an emacs plugin that transforms a buffer into a
repl-like curl-backed experience (similar to kibana). It has support for
variables set with arbitrary elisp, turning it into a viable postman
replacement (with plain text! and versioning!). I find this to be a very
nice way to store and execute elasticsearch queries, but unfortunately
you lose autocomplete of ES specific items. Alternatively,
<a href="https://github.com/dakrone/es-mode">es-mode</a> exists, which is more ES
specific but much more featureful.
</p>

<p>
Here is a starter point showing some of restclients capabilities and how
one might use it with elasticsearch:
</p>

<p>
#+begin<sub>src</sub> txt
;; -<i>- mode: restclient -</i>-
</p>

<div id="outline-container-orgd78f034" class="outline-2">
<h2 id="local">local</h2>
<div class="outline-text-2" id="text-local">
<p>
:target = <a href="http://localhost:9200">http://localhost:9200</a> :cloud-auth = "" # Basic http auth
example: cloud-auth := (concat "Basic" (base64-encode-string
"username:password")) :prefix = some\<sub>prefix</sub>
</p>
</div>
</div>

<div id="outline-container-orga3e4cfa" class="outline-2">
<h2 id="multiline-variable">multiline variable</h2>
<div class="outline-text-2" id="text-multiline-variable">
<p>
:headers = &lt;&lt; content-type: application/json Authorization: :cloud-auth
</p>
</div>
</div>

<div id="outline-container-org92dd871" class="outline-2">
<h2 id="note-there-must-be-a-comment-to-separate-request-definitions.">note: there must be a comment to separate request definitions.</h2>
<div class="outline-text-2" id="text-note-there-must-be-a-comment-to-separate-request-definitions.">
</div>
</div>

<div id="outline-container-org91aa779" class="outline-2">
<h2 id="list-indices">list indices</h2>
<div class="outline-text-2" id="text-list-indices">
<p>
GET :target/\<sub>cat</sub>/indices :headers
</p>
</div>
</div>

<div id="outline-container-org34f5a28" class="outline-2">
<h2 id="logs-sorted-by-a-field">logs sorted by a field</h2>
<div class="outline-text-2" id="text-logs-sorted-by-a-field">
<p>
GET :target/:prefix\<sub>log</sub>/\<sub>search</sub> :headers { "sort": [ { "timestamp": {
"order": "desc" } } ] }
</p>

<p>
#+end<sub>src</sub>
</p>
</div>
</div>
</div>
<div id="postamble" class="status"></div>
</body>
</html>
